\hypertarget{sd__diskio_8c}{}\doxysection{/root/\+Documents/\+A\+S\+L\+S/\+Firmware\+\_\+\+V2.4/cueos/drivers/hl\+\_\+drivers/media/mmc/src/sd\+\_\+diskio.c File Reference}
\label{sd__diskio_8c}\index{/root/Documents/ASLS/Firmware\_V2.4/cueos/drivers/hl\_drivers/media/mmc/src/sd\_diskio.c@{/root/Documents/ASLS/Firmware\_V2.4/cueos/drivers/hl\_drivers/media/mmc/src/sd\_diskio.c}}


SD Disk I/O driver.  


{\ttfamily \#include \char`\"{}ff\+\_\+gen\+\_\+drv.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sd\+\_\+diskio.\+h\char`\"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{sd__diskio_8c_a142810068f1b99cd93d3fc9f0e160e02}\label{sd__diskio_8c_a142810068f1b99cd93d3fc9f0e160e02}} 
\#define {\bfseries Q\+U\+E\+U\+E\+\_\+\+S\+I\+ZE}~(uint32\+\_\+t) 10
\item 
\mbox{\Hypertarget{sd__diskio_8c_ad2cc981dbb8705da878c9c8fd510647b}\label{sd__diskio_8c_ad2cc981dbb8705da878c9c8fd510647b}} 
\#define {\bfseries R\+E\+A\+D\+\_\+\+C\+P\+L\+T\+\_\+\+M\+SG}~(uint32\+\_\+t) 1
\item 
\mbox{\Hypertarget{sd__diskio_8c_ae387182dbdbb4c60396d9f6ac7958340}\label{sd__diskio_8c_ae387182dbdbb4c60396d9f6ac7958340}} 
\#define {\bfseries W\+R\+I\+T\+E\+\_\+\+C\+P\+L\+T\+\_\+\+M\+SG}~(uint32\+\_\+t) 2
\item 
\mbox{\Hypertarget{sd__diskio_8c_a28be5b4ad518f3d24d247e50f0385a9b}\label{sd__diskio_8c_a28be5b4ad518f3d24d247e50f0385a9b}} 
\#define {\bfseries S\+D\+\_\+\+T\+I\+M\+E\+O\+UT}~30 $\ast$ 1000
\item 
\mbox{\Hypertarget{sd__diskio_8c_ae38517ff312078360458aa555211e1df}\label{sd__diskio_8c_ae38517ff312078360458aa555211e1df}} 
\#define {\bfseries S\+D\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE}~512
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
D\+S\+T\+A\+T\+US \mbox{\hyperlink{sd__diskio_8c_aad7ae36100f45de75e573a0f5fd3addd}{S\+D\+\_\+initialize}} (B\+Y\+TE lun)
\begin{DoxyCompactList}\small\item\em Initializes a Drive. \end{DoxyCompactList}\item 
D\+S\+T\+A\+T\+US \mbox{\hyperlink{sd__diskio_8c_a21ca54e56dca1f40b54f458ac35470e3}{S\+D\+\_\+status}} (B\+Y\+TE lun)
\begin{DoxyCompactList}\small\item\em Gets Disk Status. \end{DoxyCompactList}\item 
D\+R\+E\+S\+U\+LT \mbox{\hyperlink{sd__diskio_8c_a1f2ee4a775d8a3877f368533db97cbe4}{S\+D\+\_\+read}} (B\+Y\+TE lun, B\+Y\+TE $\ast$buff, D\+W\+O\+RD sector, U\+I\+NT count)
\begin{DoxyCompactList}\small\item\em Reads Sector(s) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sd__diskio_8c_afc4f1ecdf361e0c0808803167f31d61b}{B\+S\+P\+\_\+\+S\+D\+\_\+\+Write\+Cplt\+Callback}} (void)
\begin{DoxyCompactList}\small\item\em Writes Sector(s) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sd__diskio_8c_a8d66ac35cee6a454f7e584f0051bc9f8}{B\+S\+P\+\_\+\+S\+D\+\_\+\+Read\+Cplt\+Callback}} (void)
\begin{DoxyCompactList}\small\item\em Rx Transfer completed callbacks. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{struct_diskio__drv_type_def}{Diskio\+\_\+drv\+Type\+Def}} {\bfseries S\+D\+\_\+\+Driver}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
SD Disk I/O driver. 

\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
\doxysubsubsection*{\begin{center}\copyright{} Copyright (c) 2020 S\+T\+Microelectronics. All rights reserved.\end{center} }

This software component is licensed by ST under Ultimate Liberty license S\+L\+A0044, the \char`\"{}\+License\char`\"{}; You may not use this file except in compliance with the License. You may obtain a copy of the License at\+: www.\+st.\+com/\+S\+L\+A0044 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sd__diskio_8c_a8d66ac35cee6a454f7e584f0051bc9f8}\label{sd__diskio_8c_a8d66ac35cee6a454f7e584f0051bc9f8}} 
\index{sd\_diskio.c@{sd\_diskio.c}!BSP\_SD\_ReadCpltCallback@{BSP\_SD\_ReadCpltCallback}}
\index{BSP\_SD\_ReadCpltCallback@{BSP\_SD\_ReadCpltCallback}!sd\_diskio.c@{sd\_diskio.c}}
\doxysubsubsection{\texorpdfstring{BSP\_SD\_ReadCpltCallback()}{BSP\_SD\_ReadCpltCallback()}}
{\footnotesize\ttfamily void B\+S\+P\+\_\+\+S\+D\+\_\+\+Read\+Cplt\+Callback (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Rx Transfer completed callbacks. 

B\+SP Rx Transfer completed callback.


\begin{DoxyParams}{Parameters}
{\em hsd} & SD handle \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line 654 of file sd\+\_\+diskio.\+c.

\mbox{\Hypertarget{sd__diskio_8c_afc4f1ecdf361e0c0808803167f31d61b}\label{sd__diskio_8c_afc4f1ecdf361e0c0808803167f31d61b}} 
\index{sd\_diskio.c@{sd\_diskio.c}!BSP\_SD\_WriteCpltCallback@{BSP\_SD\_WriteCpltCallback}}
\index{BSP\_SD\_WriteCpltCallback@{BSP\_SD\_WriteCpltCallback}!sd\_diskio.c@{sd\_diskio.c}}
\doxysubsubsection{\texorpdfstring{BSP\_SD\_WriteCpltCallback()}{BSP\_SD\_WriteCpltCallback()}}
{\footnotesize\ttfamily void B\+S\+P\+\_\+\+S\+D\+\_\+\+Write\+Cplt\+Callback (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Writes Sector(s) 

B\+SP Tx Transfer completed callback.


\begin{DoxyParams}{Parameters}
{\em lun} & \+: not used \\
\hline
{\em $\ast$buff} & Data to be written \\
\hline
{\em sector} & Sector address (L\+BA) \\
\hline
{\em count} & Number of sectors to write (1..128) \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em D\+R\+E\+S\+U\+LT} & Operation result\\
\hline
\end{DoxyRetVals}
I/O control operation 
\begin{DoxyParams}{Parameters}
{\em lun} & \+: not used \\
\hline
{\em cmd} & Control code \\
\hline
{\em $\ast$buff} & Buffer to send/receive control data \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em D\+R\+E\+S\+U\+LT} & Operation result\\
\hline
\end{DoxyRetVals}
Tx Transfer completed callbacks 
\begin{DoxyParams}{Parameters}
{\em hsd} & SD handle \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}


Definition at line 634 of file sd\+\_\+diskio.\+c.

\mbox{\Hypertarget{sd__diskio_8c_aad7ae36100f45de75e573a0f5fd3addd}\label{sd__diskio_8c_aad7ae36100f45de75e573a0f5fd3addd}} 
\index{sd\_diskio.c@{sd\_diskio.c}!SD\_initialize@{SD\_initialize}}
\index{SD\_initialize@{SD\_initialize}!sd\_diskio.c@{sd\_diskio.c}}
\doxysubsubsection{\texorpdfstring{SD\_initialize()}{SD\_initialize()}}
{\footnotesize\ttfamily D\+S\+T\+A\+T\+US S\+D\+\_\+initialize (\begin{DoxyParamCaption}\item[{B\+Y\+TE}]{lun }\end{DoxyParamCaption})}



Initializes a Drive. 


\begin{DoxyParams}{Parameters}
{\em lun} & \+: not used \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em D\+S\+T\+A\+T\+US} & Operation status \\
\hline
\end{DoxyRetVals}


Definition at line 177 of file sd\+\_\+diskio.\+c.

\mbox{\Hypertarget{sd__diskio_8c_a1f2ee4a775d8a3877f368533db97cbe4}\label{sd__diskio_8c_a1f2ee4a775d8a3877f368533db97cbe4}} 
\index{sd\_diskio.c@{sd\_diskio.c}!SD\_read@{SD\_read}}
\index{SD\_read@{SD\_read}!sd\_diskio.c@{sd\_diskio.c}}
\doxysubsubsection{\texorpdfstring{SD\_read()}{SD\_read()}}
{\footnotesize\ttfamily D\+R\+E\+S\+U\+LT S\+D\+\_\+read (\begin{DoxyParamCaption}\item[{B\+Y\+TE}]{lun,  }\item[{B\+Y\+TE $\ast$}]{buff,  }\item[{D\+W\+O\+RD}]{sector,  }\item[{U\+I\+NT}]{count }\end{DoxyParamCaption})}



Reads Sector(s) 


\begin{DoxyParams}{Parameters}
{\em lun} & \+: not used \\
\hline
{\em $\ast$buff} & Data buffer to store read data \\
\hline
{\em sector} & Sector address (L\+BA) \\
\hline
{\em count} & Number of sectors to read (1..128) \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em D\+R\+E\+S\+U\+LT} & Operation result \\
\hline
\end{DoxyRetVals}


Definition at line 251 of file sd\+\_\+diskio.\+c.

\mbox{\Hypertarget{sd__diskio_8c_a21ca54e56dca1f40b54f458ac35470e3}\label{sd__diskio_8c_a21ca54e56dca1f40b54f458ac35470e3}} 
\index{sd\_diskio.c@{sd\_diskio.c}!SD\_status@{SD\_status}}
\index{SD\_status@{SD\_status}!sd\_diskio.c@{sd\_diskio.c}}
\doxysubsubsection{\texorpdfstring{SD\_status()}{SD\_status()}}
{\footnotesize\ttfamily D\+S\+T\+A\+T\+US S\+D\+\_\+status (\begin{DoxyParamCaption}\item[{B\+Y\+TE}]{lun }\end{DoxyParamCaption})}



Gets Disk Status. 


\begin{DoxyParams}{Parameters}
{\em lun} & \+: not used \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em D\+S\+T\+A\+T\+US} & Operation status \\
\hline
\end{DoxyRetVals}


Definition at line 234 of file sd\+\_\+diskio.\+c.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{sd__diskio_8c_a1a12762eb7b74c246045197fa41f1296}\label{sd__diskio_8c_a1a12762eb7b74c246045197fa41f1296}} 
\index{sd\_diskio.c@{sd\_diskio.c}!SD\_Driver@{SD\_Driver}}
\index{SD\_Driver@{SD\_Driver}!sd\_diskio.c@{sd\_diskio.c}}
\doxysubsubsection{\texorpdfstring{SD\_Driver}{SD\_Driver}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_diskio__drv_type_def}{Diskio\+\_\+drv\+Type\+Def}} S\+D\+\_\+\+Driver}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \mbox{\hyperlink{sd__diskio_8c_aad7ae36100f45de75e573a0f5fd3addd}{SD\_initialize}},}
\DoxyCodeLine{  \mbox{\hyperlink{sd__diskio_8c_a21ca54e56dca1f40b54f458ac35470e3}{SD\_status}},}
\DoxyCodeLine{  \mbox{\hyperlink{sd__diskio_8c_a1f2ee4a775d8a3877f368533db97cbe4}{SD\_read}},}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{ }
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{ }
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 119 of file sd\+\_\+diskio.\+c.

