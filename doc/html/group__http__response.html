<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cueOS: Http_response</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cueOS
   &#160;<span id="projectnumber">2.4</span>
   </div>
   <div id="projectbrief">cueOS -  Universal Show Control OS for ARM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__http__response.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Http_response</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhttp__response.html">http_response</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP response structure object.  <a href="structhttp__response.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac24adf1be43d6eb76d349fe57c64785f"><td class="memItemLeft" align="right" valign="top"><a id="gac24adf1be43d6eb76d349fe57c64785f"></a>
typedef struct <a class="el" href="structhttp__response.html">http_response</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a></td></tr>
<tr class="memdesc:gac24adf1be43d6eb76d349fe57c64785f"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP response structure object. <br /></td></tr>
<tr class="separator:gac24adf1be43d6eb76d349fe57c64785f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga9b60ce6f72d88e26296b7993373b24bd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http__response.html#ga9b60ce6f72d88e26296b7993373b24bd">http_response_static_state</a> { <br />
&#160;&#160;<a class="el" href="group__http__response.html#gga9b60ce6f72d88e26296b7993373b24bda2c0884088aea32889ba64065a36d2a27">HTTP_RESPONSE_IS_DYNAMIC</a>, 
<br />
&#160;&#160;<a class="el" href="group__http__response.html#gga9b60ce6f72d88e26296b7993373b24bda66586017b1df1dc8c597405991b62aaf">HTTP_RESPONSE_IS_STATIC</a>
<br />
 }</td></tr>
<tr class="memdesc:ga9b60ce6f72d88e26296b7993373b24bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the HTTP response conveys static data or not. This is very importnt as it will be used to allocate and free the response's data pointer in case the response data needs to be dynamimc.  <a href="group__http__response.html#ga9b60ce6f72d88e26296b7993373b24bd">More...</a><br /></td></tr>
<tr class="separator:ga9b60ce6f72d88e26296b7993373b24bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga685951b24716349dfe138c15e1b60b9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http__response.html#ga685951b24716349dfe138c15e1b60b9d">http_response_new</a> (void)</td></tr>
<tr class="memdesc:ga685951b24716349dfe138c15e1b60b9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new HTTP response instance.  <a href="group__http__response.html#ga685951b24716349dfe138c15e1b60b9d">More...</a><br /></td></tr>
<tr class="separator:ga685951b24716349dfe138c15e1b60b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab40a9ae2a8e99f5360f7e062d310f5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http__response.html#gaab40a9ae2a8e99f5360f7e062d310f5c">http_response_free</a> (<a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a> *res)</td></tr>
<tr class="memdesc:gaab40a9ae2a8e99f5360f7e062d310f5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safely frees an HTTP response instance.  <a href="group__http__response.html#gaab40a9ae2a8e99f5360f7e062d310f5c">More...</a><br /></td></tr>
<tr class="separator:gaab40a9ae2a8e99f5360f7e062d310f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bbefa15aee22dd8f2805ad7c4f119f8"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http__response.html#ga1bbefa15aee22dd8f2805ad7c4f119f8">http_response_get_bytes_left</a> (<a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a> *res)</td></tr>
<tr class="memdesc:ga1bbefa15aee22dd8f2805ad7c4f119f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of bytes left to be processed.  <a href="group__http__response.html#ga1bbefa15aee22dd8f2805ad7c4f119f8">More...</a><br /></td></tr>
<tr class="separator:ga1bbefa15aee22dd8f2805ad7c4f119f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d2d92cb07678772739b66a60e34d74c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__http__response.html#ga9d2d92cb07678772739b66a60e34d74c">http_response_prepare_dynamic</a> (<a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a> *res, http_status_code_e status_code, http_content_types_e content_type, char *content)</td></tr>
<tr class="memdesc:ga9d2d92cb07678772739b66a60e34d74c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-formats response to HTTP response using provided response header parameters.  <a href="group__http__response.html#ga9d2d92cb07678772739b66a60e34d74c">More...</a><br /></td></tr>
<tr class="separator:ga9d2d92cb07678772739b66a60e34d74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Handles generation of both static and dynamic HTTP repsponse frames. Currently supported HTTP versions: HTTP/0.9 and HTTP/1.1. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga9b60ce6f72d88e26296b7993373b24bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b60ce6f72d88e26296b7993373b24bd">&#9670;&nbsp;</a></span>http_response_static_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__http__response.html#ga9b60ce6f72d88e26296b7993373b24bd">http_response_static_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the HTTP response conveys static data or not. This is very importnt as it will be used to allocate and free the response's data pointer in case the response data needs to be dynamimc. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga9b60ce6f72d88e26296b7993373b24bda2c0884088aea32889ba64065a36d2a27"></a>HTTP_RESPONSE_IS_DYNAMIC&#160;</td><td class="fielddoc"><p>Sets the HTTP reponse to be dynamic (enable data pointer memory allocation) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga9b60ce6f72d88e26296b7993373b24bda66586017b1df1dc8c597405991b62aaf"></a>HTTP_RESPONSE_IS_STATIC&#160;</td><td class="fielddoc"><p>Sets the HTTP reponse to be static (disable data pointer memory allocation) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="http__response_8h_source.html#l00017">17</a> of file <a class="el" href="http__response_8h_source.html">http_response.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaab40a9ae2a8e99f5360f7e062d310f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab40a9ae2a8e99f5360f7e062d310f5c">&#9670;&nbsp;</a></span>http_response_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void http_response_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a> *&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safely frees an HTTP response instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>HTTP response instance to be freed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="http__response_8c_source.html#l00066">66</a> of file <a class="el" href="http__response_8c_source.html">http_response.c</a>.</p>

</div>
</div>
<a id="ga1bbefa15aee22dd8f2805ad7c4f119f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bbefa15aee22dd8f2805ad7c4f119f8">&#9670;&nbsp;</a></span>http_response_get_bytes_left()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t http_response_get_bytes_left </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a> *&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of bytes left to be processed. </p>
<dl class="section warning"><dt>Warning</dt><dd>this function does not affect the current instance data pointer index. this parameter is incremented during the server send process.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>HTTP response instance to be freed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint32_t bytes ledt count </dd></dl>

<p class="definition">Definition at line <a class="el" href="http__response_8c_source.html#l00090">90</a> of file <a class="el" href="http__response_8c_source.html">http_response.c</a>.</p>

</div>
</div>
<a id="ga685951b24716349dfe138c15e1b60b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga685951b24716349dfe138c15e1b60b9d">&#9670;&nbsp;</a></span>http_response_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a>* http_response_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new HTTP response instance. </p>
<p>============================================================================================================================ Public functions definitions These functions can be accessed outside of the file's scope </p>
<h1><a class="anchor" id="autotoc_md16"></a>
@see http_response.h for declarations</h1>
<dl class="section return"><dt>Returns</dt><dd>http_response_s* pointer to the created HTTP response instance </dd></dl>

<p class="definition">Definition at line <a class="el" href="http__response_8c_source.html#l00047">47</a> of file <a class="el" href="http__response_8c_source.html">http_response.c</a>.</p>

</div>
</div>
<a id="ga9d2d92cb07678772739b66a60e34d74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9d2d92cb07678772739b66a60e34d74c">&#9670;&nbsp;</a></span>http_response_prepare_dynamic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void http_response_prepare_dynamic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__http__response.html#gac24adf1be43d6eb76d349fe57c64785f">http_response_s</a> *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">http_status_code_e&#160;</td>
          <td class="paramname"><em>status_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">http_content_types_e&#160;</td>
          <td class="paramname"><em>content_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>content</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pre-formats response to HTTP response using provided response header parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*res</td><td>pointer to the response to be prepared </td></tr>
    <tr><td class="paramname">status</td><td>code response's HTTP status code </td></tr>
    <tr><td class="paramname">content_type</td><td>the response's content type </td></tr>
    <tr><td class="paramname">content_length</td><td>the response's content length in bytes </td></tr>
    <tr><td class="paramname">content</td><td>the response's content </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>while it might be tempting, DO NOT USE STRING FUNCTIONS, they are not thread safe and therefore not suitable to be used within the execution of the TCP/IP task thread. http_response_dynamic_cat function will help dynamically allocating and concatenating new string valuehttp_response_prepare_dynamics to the responses' data pointer. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="http__defs_8h_source.html">http_defs.h</a> for further information regarding <a class="el" href="group___h_t_t_p.html" title="Handles HTTP packet transactions.">HTTP</a> header definitions </dd></dl>

<p class="definition">Definition at line <a class="el" href="http__response_8c_source.html#l00109">109</a> of file <a class="el" href="http__response_8c_source.html">http_response.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
